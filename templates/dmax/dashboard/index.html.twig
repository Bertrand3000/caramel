{% extends 'base.html.twig' %}

{% block title %}DMAX Inventaire{% endblock %}

{% block body %}
<div style="max-width:900px;margin:0 auto;padding:1rem;">
    <h1>Inventaire DMAX</h1>
    <a href="{{ path('dmax_produit_new') }}" style="display:inline-block;padding:12px 16px;min-height:44px;background:#0d6efd;color:#fff;text-decoration:none;border-radius:6px;">Nouveau produit</a>
    <ul style="list-style:none;padding:0;margin-top:1rem;display:grid;gap:.75rem;">
        {% for produit in produits %}
            <li style="border:1px solid #ddd;padding:.75rem;border-radius:8px;">
                <strong>{{ produit.libelle }}</strong> — {{ produit.statut.value }}
                <div style="margin-top:.5rem;display:flex;gap:.5rem;flex-wrap:wrap;">
                    <a href="{{ path('dmax_produit_edit', {id: produit.id}) }}" style="padding:10px 12px;min-height:44px;border:1px solid #333;border-radius:6px;text-decoration:none;">Éditer</a>
                    <form method="post" action="{{ path('dmax_produit_delete', {id: produit.id}) }}">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete_produit_' ~ produit.id) }}">
                        <button type="submit" style="padding:10px 12px;min-height:44px;background:#dc3545;color:#fff;border:none;border-radius:6px;">Supprimer</button>
                    </form>
                </div>
            </li>
        {% else %}
            <li>Aucun produit disponible.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
